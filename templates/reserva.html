{% extends "base.html" %}
{# Usa a estrutura base.html #}

{% block title %}Reserva{% endblock %}
{# Define o título da aba #}

{% block content %}
<section class="reserva-section">
    <div class="reserva-container">
        <h2>Validação de Reserva</h2>

        {% if codigo and nome and origem %}
            <!-- Exibe os dados da reserva já preenchidos -->
            <p><strong>Passageiro:</strong> {{ nome }}</p>
            <p><strong>Código da Reserva:</strong> {{ codigo }}</p>
            <p><strong>Origem:</strong> {{ origem }}</p>

            <!-- Link para próxima etapa -->
            <a href="{{ url_for('assentos') }}" class="btn">Escolher Assento</a>
        
        {% else %}
            <!-- Formulário de validação da reserva -->
            <form action="{{ url_for('reserva') }}" method="POST" class="reserva-form">
                
                <div class="form-group">
                    <label for="nome">Nome</label>
                    <input type="text" name="nome" id="nome" value="{{ nome or '' }}" placeholder="Digite seu nome" required>
                </div>

                <div class="form-group">
                    <label for="codigo">Código da Reserva</label>
                    <input type="text" name="codigo" id="codigo" value="{{ codigo or '' }}" placeholder="Ex: ABC123" required>
                </div>

                <div class="form-group">
                    <label for="origem">Aeroporto de Origem</label>
                    <select name="origem" id="origem" required>
                        {% for aero in aeroportos %}
                            <option value="{{ aero }}" {% if origem == aero %}selected{% endif %}>{{ aero }}</option>
                        {% endfor %}
                    </select>
                </div>

                <button type="submit" class="btn">Confirmar</button>
            </form>
        {% endif %}
    </div>
</section>
{% endblock %}


